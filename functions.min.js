import{navigator as e}from"./class.min.js";let data=await fetch("./data.json");export const pictures=await data.json();export let imgsArrayToDisplay=pictures;export let imgIndex=0;let modalPlace=document.querySelector(".zoomDisplay");export let modal=!1;let listenImgsToOpenModal=()=>{let e=document.querySelectorAll(".gallery img");for(let l of e)l.addEventListener("click",e=>{openModalwithSelectedImg(e)}),l.addEventListener("keydown",e=>{"Enter"===e.key&&openModalwithSelectedImg(e)})},openModalwithSelectedImg=l=>{let t=l.target.id;imgIndex=imgsArrayToDisplay.findIndex(e=>e.id===t),e.init(imgIndex,imgsArrayToDisplay),showModal(!0),createImgElement(e.getCurrentImg(),modalPlace)};export const createImgElement=(e,l)=>{l.innerHTML="";let t=`<img class='gallery-item ${e.category}' src='${e.url}' alt='${e.alt}' id='${e.id} loading='lazy'>`;l.innerHTML=t};export const displayPicturesInGallery=e=>{let l=document.querySelector(".gallery");l.innerHTML="";let t="";if(0===e.length){let a=document.createElement("p");a.innerText="Pas d'images afficher"}for(let r of e)t+=`<img class='gallery-item ${r.category}' src='${r.smallUrl}' alt='${r.alt}' id='${r.id}' loading='lazy' tabindex="0">`;l.innerHTML=t,listenImgsToOpenModal()};export const listenButtonsToFilterResult=e=>{let l=document.querySelectorAll(".gallery_buttons button");for(let t of l)t.addEventListener("click",()=>{imgsArrayToDisplay="tous"===t.className?e:e.filter(e=>e.category===t.className),displayPicturesInGallery(imgsArrayToDisplay)})};export const showModal=(l=!0)=>{modal=!!l,document.querySelector(".zoomDisplay").innerHTML="";let t=document.querySelector(".modalBackground");t.style.display=l?"flex":"none",t.ariaHidden=l?"false":"true",l||e.reset()};