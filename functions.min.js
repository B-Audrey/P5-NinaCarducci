import{ModalNavigator as e}from"./class.min.js";let data=await fetch("./data.json");export const pictures=await data.json();export let imgsArrayToDisplay=pictures;export let imgIndex=0;let modalPlace=document.querySelector(".zoomDisplay");export let navigator=null;export let modal=!1;let listenImgsToOpenModal=()=>{let e=document.querySelectorAll(".gallery img");for(let l of e)l.addEventListener("click",e=>{openModalwithSelectedImg(e)}),l.addEventListener("keydown",e=>{"Enter"===e.key&&openModalwithSelectedImg(e)})},openModalwithSelectedImg=l=>{let t=l.target.id;imgIndex=imgsArrayToDisplay.findIndex(e=>e.id===t),showModal(!0),createImgElement(imgsArrayToDisplay[imgIndex],modalPlace),navigator=new e(imgIndex,imgsArrayToDisplay)};export const createImgElement=(e,l)=>{l.innerHTML="";let t=`<img class='gallery-item ${e.category}' src='${e.url}' alt='${e.alt}' id='${e.id} loading='lazy'>`;l.innerHTML=t};export const displayPicturesInGallery=e=>{let l=document.querySelector(".gallery");l.innerHTML="";let t="";if(0===e.length){let a=document.createElement("p");a.innerText="Pas d'images afficher"}for(let r of e)t+=`<img class='gallery-item ${r.category}' src='${r.smallUrl}' alt='${r.alt}' id='${r.id}' loading='lazy' tabindex="0">`;l.innerHTML=t,listenImgsToOpenModal()};export const listenButtonsToFilterResult=e=>{let l=document.querySelectorAll(".gallery_buttons button");for(let t of l)t.addEventListener("click",()=>{imgsArrayToDisplay="tous"===t.className?e:e.filter(e=>e.category===t.className),displayPicturesInGallery(imgsArrayToDisplay)})};export const showModal=(e=!0)=>{modal=!!e,document.querySelector(".zoomDisplay").innerHTML="";let l=document.querySelector(".modalBackground");l.style.display=e?"flex":"none",l.ariaHidden=e?"false":"true"};